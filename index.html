<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Raffle for Colin and Faith's Items</title>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.2/css/bulma.min.css">
	<script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
</head>

<body>
	<section class="hero">
		<div class="hero-body has-text-centered">
			<a href="https://www.grebelife.com">
				<img src="images/Grebelife.png" alt="Grebelife" width="25%">
			</a>
		</div>
	</section>
	<section class="hero is-dark" style="z-index: 5;">
		<div class="hero-body">
			<div class="title">
				Raffle for Colin and Faith's Items
			</div>
			<div class="subtitle">
				Since Colin and Faith are moving to BC, they cannot bring all of their belongings with them, so
				they are putting them up for Grebelites to buy raffle tickets for!
			</div>
			<div class="container">
				<div class="columns is-vcentered">
					<div class="column">
						<div class="notification has-text-dark is-size-5">
							<div>
								You can choose how many tickets to buy and how many tickets to put
								towards
								each item.
							</div>
							<br>
							<div>Ticket prices:</div>
							<br>
							<ul>
								<li><b>1 for $1</b> (1.00 per ticket)</li>
								<li><b>7 for $5</b> (0.71 per ticket)</li>
								<li><b>15 for $10</b> (0.67 per ticket)</li>
								<li><b>25 for $15</b> (0.60 per ticket)</li>
							</ul>
						</div>


					</div>
					<div class="column">
						<img src="images/raffleImage.png" alt="Grebel Raffle Image">
					</div>
				</div>

			</div>
			<div class="is-size-4 has-text-centered">
				<em>Please e-transfer payments to: <b><a
							href="mailto:faith.friesen90@gmail.com">faith.friesen90@gmail.com</a></b></em>
			</div>


		</div>
	</section>
	<section class="section">
		<div class="container">


			<form id="raffle_form" x-data="{
				tickets_purchased: 0,
				tickets_used: 0,
				valid: true,
				items: [
					{
						id: 1,
						name: 'Book Set - A Year of Biblical Womanhood, Yes Please, Jesus Feminist',
						image: 'images/bookSet1.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 2,
						name: 'Cards Against Humanity',
						image: 'images/+fDTAuYbS9yeGHNxtBYdOA_thumb_3fd.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 3,
						name: 'Popsicle Maker 1',
						image: 'images/+rN68+p2RqOjOdWebHYmkw_thumb_407.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 4,
						name: 'Stuffed Animals',
						image: 'images/+xYpRx3rTZ683mVI3MLwVw_thumb_41a.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 5,
						name: 'Book Set - Metallica, Asshole, DNA of Relationships',
						image: 'images/0V3yF+puRH2S80xHHYu_KQ_thumb_417.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 6,
						name: 'Apples Mug',
						image: 'images/2o4KPkbTQTCDTkZFiaHY4g_thumb_403.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 7,
						name: 'EcoWash Washing Machine',
						image: 'images/2pofA3EDQzO3ZxBzXye+EQ_thumb_3f9.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 8,
						name: 'Cat Mug',
						image: 'images/39iIIa0aSNu1kqLQLAt+tQ_thumb_401.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 9,
						name: 'Clover Mug',
						image: 'images/48eW2bz+T_SaM1Q7EosHtw_thumb_406.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 10,
						name: 'Popsicle Maker 2',
						image: 'images/cc8fnzZRQpyCzBtazTri_Q_thumb_408.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 11,
						name: 'Blue Mug',
						image: 'images/dffG_YY+RCaTOk9IkPwgLg_thumb_402.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 12,
						name: 'Pink, Yellow, Green Quilt',
						image: 'images/f7F4yfhVRY+JGiY_qOmvtA_thumb_40e.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 13,
						name: 'Large Green Jacket',
						image: 'images/fullsizeoutput_3bd.jpeg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 14,
						name: 'Size 8 Skates',
						image: 'images/fullsizeoutput_3c9.jpeg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 15,
						name: 'Size 11 Skates',
						image: 'images/fullsizeoutput_3cd.jpeg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 16,
						name: 'Kids Size 8/9 Skates',
						image: 'images/fullsizeoutput_3d6.jpeg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 17,
						name: 'Adjustable Skate Attachments For Children',
						image: 'images/fullsizeoutput_3d9.jpeg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 18,
						name: 'Authentic Jewels By Ren Keychain Collection',
						image: 'images/fullsizeoutput_3dd.jpeg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 19,
						name: 'Authentic Jewels By Ren Earrings Collection',
						image: 'images/fullsizeoutput_3df.jpeg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 20,
						name: 'Original Draft of Beats Per Minute by Faith Friesen',
						image: 'images/fullsizeoutput_3e1.jpeg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 21,
						name: 'Original Print Copy of Beats Per Minute by Faith Friesen',
						image: 'images/fullsizeoutput_3e3.jpeg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 22,
						name: 'Book Set - Redshirts, Great Brain, Star Trek',
						image: 'images/GBAvrlUhR82OlJIx+9CVHg_thumb_414.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 23,
						name: 'Fox Plushie',
						image: 'images/gMUIB2yxRteYJTGjqu8VhA_thumb_41b.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 24,
						name: 'Book Set - Cooking Books 1',
						image: 'images/id1TE2URRhaaEjRwQM0BTg_thumb_40f.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 25,
						name: 'Instant Pot',
						image: 'images/IMG_0836.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 26,
						name: 'Portable Cold Brew Coffee Maker',
						image: 'images/IMG_0837.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 27,
						name: 'Crock Pot',
						image: 'images/IMG_0838.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 28,
						name: 'Glass Baking Dish',
						image: 'images/IMG_0839.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 29,
						name: 'Casserole Dish',
						image: 'images/IMG_0840.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 30,
						name: 'Muffin Pan',
						image: 'images/IMG_0841.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 31,
						name: 'Bread Pan',
						image: 'images/IMG_0842.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 32,
						name: 'Pot',
						image: 'images/IMG_0843.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 33,
						name: 'Round Cutting Board',
						image: 'images/IMG_0844.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 34,
						name: 'Large Baking Sheet',
						image: 'images/IMG_0845.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 35,
						name: 'Pie pan',
						image: 'images/IMG_0846.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 36,
						name: 'Baking Tray',
						image: 'images/IMG_0847.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 37,
						name: 'Canon Printer',
						image: 'images/IMG_0848.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 38,
						name: 'Weekly Planner Board',
						image: 'images/IMG_0849.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 39,
						name: 'Wooden Quilt Rack',
						image: 'images/IMG_0850.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 40,
						name: 'Desk Lamp',
						image: 'images/IMG_0851.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 41,
						name: 'Rocking Chair',
						image: 'images/IMG_0854.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 42,
						name: 'Rocking Footrest',
						image: 'images/IMG_0853.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 43,
						name: 'Plaid Pillows',
						image: 'images/IMG_0855.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 44,
						name: 'Clothes Hangers',
						image: 'images/IMG_0856.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 45,
						name: 'Hanging Closet Organizer',
						image: 'images/IMG_0857.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 46,
						name: 'Vacuum',
						image: 'images/IMG_0858.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 47,
						name: 'Brown, Red, Blue Quilt',
						image: 'images/IMG_0859.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 48,
						name: 'Zig Zag Quilt',
						image: 'images/IMG_0860.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 49,
						name: 'Puffy Blue Coat',
						image: 'images/IMG_0861.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 50,
						name: 'Grey Cardigan',
						image: 'images/IMG_0863.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 51,
						name: 'Black Cardigan',
						image: 'images/IMG_0865.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 52,
						name: 'O-Week 2016 Hoodie',
						image: 'images/IMG_0866.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 53,
						name: 'White Hoodie',
						image: 'images/IMG_0867.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 54,
						name: 'Small Black Sweater',
						image: 'images/IMG_0868.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 55,
						name: 'Blue Hoodie',
						image: 'images/IMG_0869.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 56,
						name: 'Khaki Pants',
						image: 'images/IMG_0870.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 57,
						name: 'Navy Blue Shirt',
						image: 'images/IMG_0871.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 58,
						name: '#REDforED Shirt',
						image: 'images/IMG_0872.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 59,
						name: 'Black Pants',
						image: 'images/IMG_0873.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 60,
						name: 'Cropped Grey Hoodie',
						image: 'images/IMG_0874.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 61,
						name: 'Black Shirt',
						image: 'images/IMG_0875.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 62,
						name: 'Febreze Tower Fan',
						image: 'images/IMG_0876.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 63,
						name: 'Small Tower Fan',
						image: 'images/IMG_0877.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 64,
						name: 'Pedestal Fan',
						image: 'images/IMG_0878.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 65,
						name: 'Book Set - Cooking Books 2',
						image: 'images/k4zlksIJRUWPV2xWwQBRxQ_thumb_415.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 66,
						name: 'Book Set - Me and Earl Girl, Robert Frost, When Breath Becomes Air',
						image: 'images/kmbeb7StRi+5Eeh6oS9d2g_thumb_413.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 67,
						name: 'The Colin Cartigan',
						image: 'images/ldtnKm_MRxuL1KoWbUtRGg_thumb_418.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 68,
						name: 'Owl Mug',
						image: 'images/mMFolNu0TAaPL+uHzKNXMQ_thumb_400.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 69,
						name: 'Book Set - Gratitude, Essential Oils, Road Less Travelled, Tidying Up',
						image: 'images/ObbqZidrQXu7kHkbxfeMrg_thumb_411.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 70,
						name: 'Book Set - Robert McKinley Collection and Sherlock Holmes',
						image: 'images/QBDgslZ1RKKitvQtqjvaUw_thumb_412.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 71,
						name: 'Book Set - Stare at the Sea, And Arrow is the Sun',
						image: 'images/ruW_gOldS7+nh8wwz0Ad6A_thumb_405.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 72,
						name: 'Game of Thrones Playing Cards',
						image: 'images/SafjHwL3RAaJ0V3nkXxCjw_thumb_3fe.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 73,
						name: 'Star Trek Games',
						image: 'images/tD8bbpknQuylFNTofzQdlA_thumb_3fc.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 74,
						name: 'Red Quilt, Yellow Quilt',
						image: 'images/Uvzo48HrQdm00524wNvvKw_thumb_40d.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 75,
						name: 'Book Set - Parenting Books and CAA Magazine',
						image: 'images/xRRvjBJtT1OqsAQb4tku2g_thumb_410.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					},
					{
						id: 76,
						name: 'Book Set - John Green Collection',
						image: 'images/YByyodZgRQyR3b_RpXvsyw_thumb_3ff.jpg',
						minTickets: 1,
						ticketsUsed: 0,
					}
				],
				updateData(item) {
					// update tickets_used
					this.tickets_used = 0;
					this.items.forEach((item, index) => {
						this.tickets_used += parseInt(item.ticketsUsed);
						console.log(this.tickets_used);
					});

					// update valid
					this.valid = true;
					if (this.tickets_purchased - this.tickets_used) {
						valid = false;
					} else if (item.ticketsUsed < item.minTickets) {
						valid = false;
					}
				}
			}" x-on:submit.prevent="mysubmit()">
				<div class="field">
					<label class="label">Name</label>
					<div class="control">
						<input name="name" class="input" type="text" placeholder="Text input" required>
					</div>
				</div>

				<div class="field">
					<label class="label">Email</label>
					<div class="control">
						<input name="email" class="input" type="email" placeholder="Email" required>
					</div>
				</div>

				<div class="field">
					<label class="label">E-transfer Complete</label>
					<div class="control">
						<label class="checkbox">
							<input type="checkbox" name="etransfer_complete" value="Yes" required>
							I have made a payment via e-transfer
						</label>
					</div>
				</div>

				<div class="field">
					<label class="label">Number of Tickets Payed For</label>
					<div class="control">
						<div class="select">
							<select name="tickets_purchased" x-model="tickets_purchased">
								<option value="0">0</option>
								<option value="1">1</option>
								<option value="7">7</option>
								<option value="15">15</option>
								<option value="25">25</option>
							</select>
						</div>
					</div>
				</div>

				<hr>
				<template x-for="item in items">
					<div class="columns">
						<div class="column is-one-third">
							<img x-bind:src="item.image">
						</div>
						<div class="column">
							<div class="field">
								<label class="label" x-text="item.id + ': ' + item.name"></label>
								<div class="help"
									x-bind:class="{'is-danger' : item.ticketsUsed > 0 && item.ticketsUsed < item.minTickets}"
									x-text="'Minimum ticket amount is: ' + item.minTickets"></div>
								<div class="control">
									<input class="input" style="width:35%" x-bind:name="item.id"
										x-bind:class="{'is-danger' : item.ticketsUsed > 0 && item.ticketsUsed < item.minTickets}"
										 x-bind:min="item.minTickets"
										x-model="item.ticketsUsed"
										x-on:change="updateData(item);">
								</div>
							</div>
						</div>
					</div>
					<hr>
					<div x-text="item.name"></div>
				</template>

				<div class="field is-grouped">
					<div class="control">
						<button class="button is-link"
							x-bind:disabled="(tickets_purchased - tickets_used) < 0">Submit</button>
					</div>
				</div>

				<div class="tag is-large" x-bind:class="{'is-danger': tickets_purchased - tickets_used < 0}"
					style="position:fixed; right:0; bottom:0;"
					x-text="(tickets_purchased - tickets_used) + ' tickets remaining'"
					x-show="tickets_purchased"></div>
			</form>
		</div>

	</section>
	<script>
		window.mysubmit = () => {
			form = document.getElementById('raffle_form');
			data = new FormData(form);
			fetch("https://script.google.com/macros/s/AKfycbwUVBzHAUWPIyJcSfTobTDZLgQgkQXl0QSG0q_yIPG185JcddPMXyjcESPUfT_jXhK3sw/exec", {
				method: 'POST',
				body: data
			})
				.then(response => {
					window.location.replace("https://www.grebelife.com/raffle-for-colin-and-faiths-items");
				})
				.catch(error => console.error('Error!', error.message))
		}
	</script>
</body>

</html>